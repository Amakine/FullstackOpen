{"version":3,"sources":["App.js","index.js"],"names":["Filter","filter","handleNewFilter","value","onChange","PersonForm","addPerson","newName","handleNewName","newNumber","handleNewNumber","onSubmit","type","Numbers","persons","p","RegExp","test","name","map","number","App","useState","setPersons","useEffect","axios","get","then","response","console","log","data","setNewName","setNewNumber","setFilter","event","target","preventDefault","length","alert","find","newPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"yKA0GMA,EAAS,SAAC,GAAD,IAAEC,EAAF,EAAEA,OAAQC,EAAV,EAAUA,gBAAV,OACb,qDACoB,uBAChBC,MAAOF,EACPG,SAAUF,QAMVG,EAAa,SAAC,GAAD,IAAEC,EAAF,EAAEA,UAAWC,EAAb,EAAaA,QAASC,EAAtB,EAAsBA,cAAeC,EAArC,EAAqCA,UAAWC,EAAhD,EAAgDA,gBAAhD,OAEjB,uBAAMC,SAAUL,EAAhB,UACE,yCAAW,uBACLH,MAAOI,EACPH,SAAUI,OAGhB,2CACY,uBACNL,MAAOM,EACPL,SAAUM,OAGhB,8BACI,wBAAQE,KAAK,SAAb,uBAKFC,EAAU,SAAC,GAAD,IAAEC,EAAF,EAAEA,QAASb,EAAX,EAAWA,OAAX,OACd,8BACE,6BACGa,EACEb,QAAO,SAAAc,GAEN,OADe,IAAIC,OAAO,IAAIf,EAAQ,KACvBgB,KAAKF,EAAEG,SAEvBC,KACC,SAAAJ,GAAC,OAAI,+BAAkBA,EAAEG,KAApB,IAA2BH,EAAEK,SAApBL,EAAEG,cAMXG,EAnJH,WAAO,IAAD,EACeC,mBAAS,IADxB,mBACRR,EADQ,KACCS,EADD,KAahBC,qBARa,WACXC,IACGC,IAAI,iCACJC,MAAK,SAACC,GACLC,QAAQC,IAAI,qBACZP,EAAWK,EAASG,WAGV,IAbA,MAcgBT,mBAAS,IAdzB,mBAcRf,EAdQ,KAcCyB,EAdD,OAeoBV,mBAAS,IAf7B,mBAeRb,EAfQ,KAeGwB,EAfH,OAgBcX,mBAAS,IAhBvB,mBAgBRrB,EAhBQ,KAgBAiC,EAhBA,KAuEhB,OAEE,gCACE,2CAEA,cAAC,EAAD,CACEjC,OAAQA,EACRC,gBAtBkB,SAACiC,GACvB,IAAMlC,EAASkC,EAAMC,OAAOjC,MAC5B+B,EAAUjC,MAuBR,2CACA,cAAC,EAAD,CACEK,UAjEY,SAAC6B,GAIjB,GAHAA,EAAME,iBACNR,QAAQC,IAAIK,GAER5B,EAAQ+B,QAAU,EACpBC,MAAM,kCAIR,GAAIzB,EAAQ0B,MAAK,SAAAzB,GAAC,OAAIA,EAAEG,OAASX,KAC/BgC,MAAM,IAAD,OAAKhC,EAAL,0CAIP,GAAIE,EAAU6B,QAAU,EACtBC,MAAM,oCAIR,GAAK,aAAatB,KAAKR,GAAvB,CAMA,IAAMgC,EAAY,CAChBvB,KAAMX,EACNa,OAAQX,GAGVc,EACET,EAAQ4B,OAAOD,IAEjBT,EAAW,IACXC,EAAa,SAdXM,MAAM,0BA8CJhC,QAASA,EACTE,UAAWA,EACXD,cAzBgB,SAAC2B,GACrB,IAAMjB,EAAOiB,EAAMC,OAAOjC,MAC1B6B,EAAWd,IAwBPR,gBAtBkB,SAACyB,GACvB,IAAMf,EAASe,EAAMC,OAAOjC,MAC5B8B,EAAab,MAuBX,yCACA,cAAC,EAAD,CACEN,QAASA,EACTb,OAAQA,QC7FhB0C,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.d1637fef.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([\r\n    //{ name: 'Arto Hellas', number:'12-34-56789'}\r\n  ])\r\n\r\n  const hook = () => {\r\n    axios\r\n      .get('http://localhost:3001/persons')\r\n      .then((response) => {\r\n        console.log('promise fulfilled')\r\n        setPersons(response.data)\r\n      })\r\n  }\r\n  useEffect(hook, [])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filter, setFilter ] = useState('')\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    console.log(event)\r\n\r\n    if (newName.length <= 0) {\r\n      alert('\"Name\" field is required!')\r\n      return;\r\n    }\r\n    \r\n    if (persons.find(p => p.name === newName)) {\r\n      alert(`\"${newName}\" is already added to phonebook!`)\r\n      return;\r\n    }\r\n\r\n    if (newNumber.length <= 0) {\r\n      alert('\"Number\" field is required!')\r\n      return;\r\n    }\r\n\r\n    if (!/^[0-9+-]*$/.test(newNumber)) {\r\n      alert('Invalid phone number!')\r\n      return;\r\n    }\r\n\r\n\r\n    const newPerson = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    setPersons(\r\n      persons.concat(newPerson)\r\n    )\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n\r\n  const handleNewFilter = (event) => {\r\n    const filter = event.target.value\r\n    setFilter(filter)\r\n  }\r\n\r\n  const handleNewName = (event) => {\r\n    const name = event.target.value\r\n    setNewName(name)\r\n  }\r\n  const handleNewNumber = (event) => {\r\n    const number = event.target.value\r\n    setNewNumber(number)\r\n  }\r\n\r\n\r\n  return (\r\n\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n\r\n      <Filter\r\n        filter={filter}\r\n        handleNewFilter={handleNewFilter}\r\n      />\r\n\r\n      <h3>Add a new</h3>\r\n      <PersonForm\r\n        addPerson={addPerson}\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n        handleNewName={handleNewName}\r\n        handleNewNumber={handleNewNumber}\r\n      />\r\n\r\n      <h3>Numbers</h3>\r\n      <Numbers\r\n        persons={persons}\r\n        filter={filter}\r\n      />\r\n      {/*<div>newName: {newName}</div>*/}\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\n\r\nconst Filter = ({filter, handleNewFilter}) => (\r\n  <div>\r\n    filter shown with <input\r\n      value={filter}\r\n      onChange={handleNewFilter}\r\n    />\r\n  </div>\r\n)\r\n\r\n/* Omaan päähän ois tuntunut paljon fiksummalta siirtää name ja number -hookit tän sisään, mutta tien nyt ohjeen mukaan*/\r\nconst PersonForm = ({addPerson, newName, handleNewName, newNumber, handleNewNumber}) => (\r\n  \r\n  <form onSubmit={addPerson}>\r\n    <div>name: <input\r\n          value={newName}\r\n          onChange={handleNewName}\r\n        />\r\n    </div>\r\n    <div>\r\n        number: <input\r\n          value={newNumber}\r\n          onChange={handleNewNumber}\r\n        />\r\n    </div>\r\n    <div>\r\n        <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n)\r\n\r\nconst Numbers = ({persons, filter}) => (\r\n  <div>\r\n    <ul>\r\n      {persons\r\n        .filter(p => {\r\n          const regexp = new RegExp('^'+filter, 'i')\r\n          return (regexp.test(p.name))\r\n        })\r\n        .map(\r\n          p => <li key={p.name}>{p.name} {p.number}</li>\r\n        )\r\n      }\r\n    </ul>\r\n  </div>\r\n)\r\nexport default App\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}